<div class="container">
  <div class="jumbotron">
    <div class="row">
      <h1 class="center-title">Crear Usuario</h1>
      <div class="col-lg-2"></div>
      <div class="col-lg-8">
        <%= form_tag("/createUser",method:"post", multipart: true ) do %>
        <div class="form-group">
          <%= label_tag :email %>
          <%= email_field_tag :email, nil, class: "form-control" %>
        </div>

        <div class="form-group">
          <%= label_tag :nombres %>
          <%= text_field_tag :name, nil, class: "form-control" %>
        </div>

        <div class="form-group">
          <%= label_tag :apellidos %>
          <%= text_field_tag :lastname, nil, class: "form-control" %>
        </div>

        <div class="form-group">
          <%= label_tag :Fecha_nacimiento %>
          <%= date_field_tag :birth_date, nil, class: "form-control" %>
        </div>

        <div class="form-group">
          <%= label_tag :ci %>
          <%= text_field_tag :ci, nil, class: "form-control" %>
        </div>

        <div class="form-group">
          <%= label_tag :demolayID %>
          <%= text_field_tag :demolayID, nil, class: "form-control" %>
        </div>

        <div class="form-group">
          <%= label_tag :campamento %>
          <%= select_tag(:campament, options_from_collection_for_select(@campaments,'id', 'name'), :onchange => "update_chapters_div(this.value)", class: "form-control",:prompt => "Seleccionar campamento") %>
        </div>

         <div class="form-group" id="chapterDiv">
          <%= render :partial => 'chapters', :object => @chapters %>
        </div>

        <div class="form-group">
          <%= label_tag :Provincia %>
          <%= text_field_tag :city, nil, class: "form-control" %>
        </div>

        <div class="form-group">
          <%= label_tag :Direccion %>
          <%= text_field_tag :adress, nil, class: "form-control" %>
        </div>

        <div class="form-group">
          <%= label_tag :Telefono_fijo %>
          <%= number_field_tag :phone, nil, class: "form-control" %>
        </div>

        <div class="form-group">
          <%= label_tag :Telefono_celular %>
          <%= number_field_tag :cellphone, nil, class: "form-control" %>
        </div>

        <div class="form-group">
          <%= label_tag :rol %>
          <%= select_tag(:role, options_for_select(@roles), class: "form-control",:onchange => "update_form(this.value)") %>
        </div>

        <span id="para_demolay"> 

            <div class="form-group">
              <%= label_tag :seguro %>
              <%= select_tag(:assurance, options_for_select(@seguro), class: "form-control")%>
            </div>

            <div class="form-group">
              <%= label_tag :id_padrino %>
              <%= number_field_tag :godfather_id, nil, class: "form-control" %>
            </div>

            <div class="form-group">
              <%= label_tag :fecha_iniciacion %>
              <%= date_field_tag :iniciacion, nil, class: "form-control" %>
            </div>

            <div class="form-group">
              <%= label_tag :nombre_padre %>
              <%= text_field_tag :father_name, nil, class: "form-control" %>
            </div>

            <div class="form-group">
              <%= label_tag :Informacion_del_padre %>
               <%= select_tag(:father_info, options_for_select(@father), class: "form-control")%>
            </div>

            <div class="form-group">
              <%= label_tag :Direccion_padre %>
              <%= text_field_tag :father_adress, nil, class: "form-control" %>
            </div>

            <div class="form-group">
              <%= label_tag :Mail_padre %>
              <%= text_field_tag :father_mail, nil, class: "form-control" %>
            </div>

            <div class="form-group">
              <%= label_tag :nombre_madre %>
              <%= text_field_tag :mather_name, nil, class: "form-control" %>
            </div>

            <div class="form-group">
              <%= label_tag :Direccion_madre %>
              <%= text_field_tag :mather_adress, nil, class: "form-control" %>
            </div>

            <div class="form-group">
              <%= label_tag :Mail_madre %>
              <%= text_field_tag :mather_mail, nil, class: "form-control" %>
            </div>



        </span>

         <span id="para_consultor"> 

            <div class="form-group">
              <%= label_tag :Estado_civil %>
              <%= select_tag(:estado_civil, options_for_select(@estados), class: "form-control")%>
            </div>

            <div class="form-group">
              <%= label_tag :nombre_esposa%>
              <%= text_field_tag :nombre_esposa, nil, class: "form-control" %>
            </div>

             <div class="form-group">
              <%= label_tag :Nombre_taller %>
              <%= text_field_tag :taller_nombre, nil, class: "form-control" %>
            </div>

            <div class="form-group">
              <%= label_tag :Numero_taller %>
              <%= text_field_tag :taller_numero, nil, class: "form-control" %>
            </div>

        </span>

        <div class="form-group">
          <%= label_tag "Formulario" %>
          <%= file_field_tag :registration_form, class: "form-control" %>
        </div>

        <div class="actions">
          <%= submit_tag "Crear", class: "btn btn-success" %>
          <%= link_to "AtrÃ¡s", '/users', class: "btn btn-danger" %>
        </div>
      <% end %>
      </div>
    </div>
  </div>
</div>
<br>

<script type="text/javascript">
  function update_chapters_div(campament) {
    jQuery.ajax({
      url: "/update_chapters",
      type: "GET",
      data: {"campament" : campament},
      dataType: "html",
      success: function(data) {
        jQuery('#chapterDiv').html(data);
      }
    });
  }
</script>

<script type="text/javascript">
   $('#para_consultor').hide()
  function update_form(rol) {
  
      if (rol == "No Demolay")
      {
        $('#para_demolay').hide();
        $('#para_consultor').show();
      }
      if (rol == "Demolay")
      {
        $('#para_consultor').hide();
        $('#para_demolay').show();
      }

  }
</script>
